<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-K.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-K.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-K.png">
  <link rel="mask-icon" href="/images/logo-K.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.15.1","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="This blog is based on the video course “Reggie Takeout” by Black Horse Programmers. It summarizes course notes, related knowledge points, and potential solutions to issues. Additionally, it includes f">
<meta property="og:type" content="article">
<meta property="og:title" content="Optimization of Reggie Takeout 03(Deployment of Frontend &amp; Backend Separated Project)">
<meta property="og:url" content="http://example.com/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/index.html">
<meta property="og:site_name" content="Kathy&#39;s Blog">
<meta property="og:description" content="This blog is based on the video course “Reggie Takeout” by Black Horse Programmers. It summarizes course notes, related knowledge points, and potential solutions to issues. Additionally, it includes f">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/1.png">
<meta property="og:image" content="http://example.com/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/2.png">
<meta property="og:image" content="http://example.com/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/3.png">
<meta property="og:image" content="http://example.com/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/4.png">
<meta property="og:image" content="http://example.com/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/5.png">
<meta property="og:image" content="http://example.com/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/6.png">
<meta property="og:image" content="http://example.com/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/7.png">
<meta property="og:image" content="http://example.com/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/8.png">
<meta property="og:image" content="http://example.com/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/9.png">
<meta property="og:image" content="http://example.com/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/10.png">
<meta property="article:published_time" content="2023-11-19T04:33:13.000Z">
<meta property="article:modified_time" content="2025-01-24T05:06:53.534Z">
<meta property="article:author" content="Kathy-kx">
<meta property="article:tag" content="Redis">
<meta property="article:tag" content="SpringBoot">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="项目笔记">
<meta property="article:tag" content="java">
<meta property="article:tag" content="YApi">
<meta property="article:tag" content="Swagger">
<meta property="article:tag" content="Nginx">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/1.png">


<link rel="canonical" href="http://example.com/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/","path":"2023/11/18/Optimization of Reggie Takeout 03(Deployment of Frontend & Backend Separated Project)/","title":"Optimization of Reggie Takeout 03(Deployment of Frontend & Backend Separated Project)"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Optimization of Reggie Takeout 03(Deployment of Frontend & Backend Separated Project) | Kathy's Blog</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Kathy's Blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Problem-Description"><span class="nav-text">Problem Description:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution"><span class="nav-text">Solution:</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-Frontend-Backend-Separation"><span class="nav-text">1. Frontend-Backend Separation</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-Introduction"><span class="nav-text">1.1 Introduction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-Development-Workflow"><span class="nav-text">1.2 Development Workflow</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-Frontend-Technology-Stack-For-Reference"><span class="nav-text">1.3 Frontend Technology Stack (For Reference)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Development-Tools"><span class="nav-text">Development Tools</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Frameworks-and-Libraries"><span class="nav-text">Frameworks and Libraries</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-YApi-API-Definition"><span class="nav-text">2. YApi - API Definition</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-Overview"><span class="nav-text">2.1 Overview</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-Features"><span class="nav-text">2.2 Features</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-Swagger"><span class="nav-text">3. Swagger</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-Overview"><span class="nav-text">3.1 Overview</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-Usage-Steps"><span class="nav-text">3.2 Usage Steps</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-Common-Annotations"><span class="nav-text">3.3 Common Annotations</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-Project-Deployment"><span class="nav-text">4. Project Deployment</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#4-1-Deployment-Architecture"><span class="nav-text">4.1 Deployment Architecture</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-2-Deployment-Environment"><span class="nav-text">4.2 Deployment Environment</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Server-Details"><span class="nav-text">Server Details</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3-Frontend-Deployment"><span class="nav-text">4.3 Frontend Deployment</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-4-Backend-Deployment"><span class="nav-text">4.4 Backend Deployment</span></a></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Kathy-kx</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">24</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">40</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/kathy-kx" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;kathy-kx" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:kzhu011@uottawa.ca" title="E-Mail → mailto:kzhu011@uottawa.ca" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Kathy-kx">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kathy's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Optimization of Reggie Takeout 03(Deployment of Frontend & Backend Separated Project) | Kathy's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Optimization of Reggie Takeout 03(Deployment of Frontend & Backend Separated Project)
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-11-18 23:33:13" itemprop="dateCreated datePublished" datetime="2023-11-18T23:33:13-05:00">2023-11-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-01-24 00:06:53" itemprop="dateModified" datetime="2025-01-24T00:06:53-05:00">2025-01-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Food-Delivery-System/" itemprop="url" rel="index"><span itemprop="name">Food Delivery System</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>This blog is based on the video course <strong>“Reggie Takeout”</strong> by Black Horse Programmers. It summarizes <strong>course notes</strong>, related <strong>knowledge points</strong>, and potential <strong>solutions to issues</strong>. Additionally, it includes <strong>features not implemented in the course</strong> for your reference. The notes are comprehensive and well-organized, aiming to help you in learning and understanding this takeout project. </p>
<p>For the full project notes, visit: <a target="_blank" rel="noopener" href="https://kathy-kx.github.io/categories/Food-Delivery-System/">Food Delivery System Notes Collection</a></p>
<h3 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description:"></a>Problem Description:</h3><ul>
<li>Developers are responsible for both frontend and backend code development, leading to unclear division of tasks.</li>
<li>Low development efficiency.</li>
<li>Frontend and backend code are mixed in a single project, making management difficult.</li>
<li>High skill requirements for developers, making recruitment challenging.<span id="more"></span></li>
</ul>
<p><img src="/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/1.png" alt="Image"></p>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution:"></a>Solution:</h3><p>Transition from <strong>mixed development of frontend and backend code</strong> → to <strong>separate development of frontend and backend code</strong>.</p>
<h1 id="1-Frontend-Backend-Separation"><a href="#1-Frontend-Backend-Separation" class="headerlink" title="1. Frontend-Backend Separation"></a>1. Frontend-Backend Separation</h1><h2 id="1-1-Introduction"><a href="#1-1-Introduction" class="headerlink" title="1.1 Introduction"></a>1.1 Introduction</h2><p>Frontend-backend separation development involves assigning frontend code development to dedicated frontend developers and backend code to backend developers. This ensures clear division of labor, improves efficiency, and allows for parallel development of frontend and backend code, thereby accelerating project progress.</p>
<p>This development approach is increasingly adopted by companies, becoming a mainstream method in modern project development. It also changes the project structure, separating frontend and backend code into distinct projects instead of mixing them in a single Maven project.</p>
<p><img src="/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/2.png" alt="Image"></p>
<h2 id="1-2-Development-Workflow"><a href="#1-2-Development-Workflow" class="headerlink" title="1.2 Development Workflow"></a>1.2 Development Workflow</h2><p>When frontend-backend separation is adopted, the challenge is how frontend and backend developers collaborate effectively to develop a project. The process can follow the steps below:</p>
<p><img src="/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/3.png" alt="Image"></p>
<p>An <strong>API</strong> is essentially an HTTP request endpoint defining the request path, method, parameters, and response data, among other aspects.</p>
<p><img src="/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/4.png" alt="Image"></p>
<h2 id="1-3-Frontend-Technology-Stack-For-Reference"><a href="#1-3-Frontend-Technology-Stack-For-Reference" class="headerlink" title="1.3 Frontend Technology Stack (For Reference)"></a>1.3 Frontend Technology Stack (For Reference)</h2><h3 id="Development-Tools"><a href="#Development-Tools" class="headerlink" title="Development Tools"></a>Development Tools</h3><ul>
<li>Visual Studio Code</li>
<li>Hbuilder</li>
</ul>
<h3 id="Frameworks-and-Libraries"><a href="#Frameworks-and-Libraries" class="headerlink" title="Frameworks and Libraries"></a>Frameworks and Libraries</h3><ul>
<li>Node.js</li>
<li>Vue</li>
<li>ElementUI</li>
<li>Mock</li>
<li>Webpack</li>
</ul>
<h1 id="2-YApi-API-Definition"><a href="#2-YApi-API-Definition" class="headerlink" title="2. YApi - API Definition"></a>2. YApi - API Definition</h1><h2 id="2-1-Overview"><a href="#2-1-Overview" class="headerlink" title="2.1 Overview"></a>2.1 Overview</h2><p>YApi is a powerful, easy-to-use API management platform designed to provide elegant API management services for developers, product managers, and testers. It helps developers create, publish, and maintain APIs easily while offering excellent user experience. With YApi, API development becomes simpler, more efficient, and easier to manage and collaborate on.</p>
<p>Source code: <a target="_blank" rel="noopener" href="https://github.com/YMFE/yapi">GitHub - YApi</a></p>
<p>YApi requires downloading and deploying the source code for use.</p>
<h2 id="2-2-Features"><a href="#2-2-Features" class="headerlink" title="2.2 Features"></a>2.2 Features</h2><p>Using YApi, you can:</p>
<ul>
<li>Add projects</li>
<li>Add categories</li>
<li>Add APIs</li>
<li>Edit APIs</li>
<li>View APIs</li>
</ul>
<p><img src="/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/5.png" alt="Image"><br><img src="/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/6.png" alt="Image"></p>
<hr>
<h1 id="3-Swagger"><a href="#3-Swagger" class="headerlink" title="3. Swagger"></a>3. Swagger</h1><h2 id="3-1-Overview"><a href="#3-1-Overview" class="headerlink" title="3.1 Overview"></a>3.1 Overview</h2><p>With Swagger, you can define APIs and related information according to its standards. Using tools and projects derived from Swagger, you can generate API documentation in various formats, as well as online API testing pages.</p>
<p>Official site: <a target="_blank" rel="noopener" href="https://swagger.io/">Swagger</a></p>
<p><strong>Knife4j</strong> enhances Swagger integration with Java MVC frameworks for generating API documentation.</p>
<h2 id="3-2-Usage-Steps"><a href="#3-2-Usage-Steps" class="headerlink" title="3.2 Usage Steps"></a>3.2 Usage Steps</h2><ol>
<li><p>Add Knife4j dependency to Maven:</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.xiaoymin<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>knife4j-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Add Knife4j configuration:</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger2</span></span><br><span class="line"><span class="meta">@EnableKnife4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebMvcConfig</span> <span class="keyword">extends</span> <span class="title class_">WebMvcConfigurationSupport</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Docket <span class="title function_">createRestApi</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Docket</span>(DocumentationType.SWAGGER_2)</span><br><span class="line">            .apiInfo(apiInfo())</span><br><span class="line">            .select()</span><br><span class="line">            .apis(RequestHandlerSelectors.basePackage(<span class="string">&quot;com.kxzhu.reggie.controller&quot;</span>))</span><br><span class="line">            .paths(PathSelectors.any())</span><br><span class="line">            .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ApiInfo <span class="title function_">apiInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ApiInfoBuilder</span>()</span><br><span class="line">            .title(<span class="string">&quot;Reggie Takeout&quot;</span>)</span><br><span class="line">            .version(<span class="string">&quot;1.0&quot;</span>)</span><br><span class="line">            .description(<span class="string">&quot;API Documentation for Reggie Takeout&quot;</span>)</span><br><span class="line">            .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Configure static resources:</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">registry.addResourceHandler(<span class="string">&quot;doc.html&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/META-INF/resources/&quot;</span>);</span><br><span class="line">registry.addResourceHandler(<span class="string">&quot;/webjars/**&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/META-INF/resources/webjars/&quot;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Exclude paths from processing in LoginCheckFilter:</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">String[] urls = &#123;</span><br><span class="line">    <span class="string">&quot;/employee/login&quot;</span>,</span><br><span class="line">    <span class="string">&quot;/employee/logout&quot;</span>,</span><br><span class="line">    <span class="string">&quot;/backend/**&quot;</span>,</span><br><span class="line">    <span class="string">&quot;/front/**&quot;</span>,</span><br><span class="line">    <span class="string">&quot;/common/**&quot;</span>,</span><br><span class="line">    <span class="string">&quot;/user/sendMsg&quot;</span>,</span><br><span class="line">    <span class="string">&quot;/user/login&quot;</span>,</span><br><span class="line">    <span class="string">&quot;/doc.html&quot;</span>,</span><br><span class="line">    <span class="string">&quot;/webjars/**&quot;</span>,</span><br><span class="line">    <span class="string">&quot;/swagger-resources&quot;</span>,</span><br><span class="line">    <span class="string">&quot;/v2/api-docs&quot;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="3-3-Common-Annotations"><a href="#3-3-Common-Annotations" class="headerlink" title="3.3 Common Annotations"></a>3.3 Common Annotations</h2><p><img src="/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/7.png" alt="Image"></p>
<h1 id="4-Project-Deployment"><a href="#4-Project-Deployment" class="headerlink" title="4. Project Deployment"></a>4. Project Deployment</h1><h2 id="4-1-Deployment-Architecture"><a href="#4-1-Deployment-Architecture" class="headerlink" title="4.1 Deployment Architecture"></a>4.1 Deployment Architecture</h2><p><img src="/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/8.png" alt="Image"></p>
<h2 id="4-2-Deployment-Environment"><a href="#4-2-Deployment-Environment" class="headerlink" title="4.2 Deployment Environment"></a>4.2 Deployment Environment</h2><h3 id="Server-Details"><a href="#Server-Details" class="headerlink" title="Server Details"></a>Server Details</h3><ul>
<li><p><strong>192.168.138.100 (Server A)</strong>:</p>
<ul>
<li>Nginx: Hosts frontend project, configures reverse proxy.</li>
<li>MySQL: Primary database in a master-slave replication setup.</li>
</ul>
</li>
<li><p><strong>192.168.138.101 (Server B)</strong>:</p>
<ul>
<li>JDK: Runs Java projects.</li>
<li>Git: Version control tool.</li>
<li>Maven: Project build tool.</li>
<li>JAR: Runs Spring Boot projects using embedded Tomcat.</li>
<li>MySQL: Secondary database in a master-slave replication setup.</li>
</ul>
</li>
<li><p><strong>172.17.2.94 (Server C)</strong>:</p>
<ul>
<li>Redis: Caching middleware.</li>
</ul>
</li>
</ul>
<h2 id="4-3-Frontend-Deployment"><a href="#4-3-Frontend-Deployment" class="headerlink" title="4.3 Frontend Deployment"></a>4.3 Frontend Deployment</h2><ol>
<li><p>Install Nginx on Server A and upload the <code>day03/dist</code> directory to <code>/usr/local/nginx/html</code>.<br><img src="/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/9.png" alt="image"></p>
</li>
<li><p>Modify <code>nginx.conf</code>:</p>
 <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">server</span> &#123;</span><br><span class="line">    <span class="string">listen</span> <span class="number">80</span><span class="string">;</span></span><br><span class="line">    <span class="string">server_name</span> <span class="string">localhost;</span></span><br><span class="line"></span><br><span class="line">    <span class="string">location</span> <span class="string">/</span> &#123;</span><br><span class="line">        <span class="string">root</span> <span class="string">html/dist;</span> <span class="comment"># Points to the dist directory uploaded to /usr/local/nginx/html</span></span><br><span class="line">        <span class="string">index</span> <span class="string">index.html;</span> <span class="comment"># Refers to the index.html file inside the dist directory</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="string">location</span> <span class="string">^~</span> <span class="string">/api/</span> &#123;</span><br><span class="line">        <span class="string">rewrite</span> <span class="string">^/api/(.*)$</span> <span class="string">/$1</span> <span class="string">break;</span> <span class="comment"># Rewrites the URL path</span></span><br><span class="line">        <span class="string">proxy_pass</span> <span class="string">http://192.168.138.101:8080;</span> <span class="comment"># Tomcat server address, where the backend code is deployed</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Start Nginx service:<br>In the &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin directory, start the service by running the command:</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./nginx</span><br></pre></td></tr></table></figure>
</li>
<li><p>Reload configuration:</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./nginx -s reload</span><br></pre></td></tr></table></figure>
</li>
<li><p>Access the frontend via <code>192.168.138.100:80</code>(Nginx server). Since the index.html file configured in the Nginx configuration file is loaded, you should see the default homepage.</p>
</li>
</ol>
<p>If the access fails, remember to disable the firewall using the command:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld</span><br></pre></td></tr></table></figure>

<p>Explanation of Reverse Proxy Configuration:</p>
<p>When you click the login button on the homepage, a request will be sent to 192.168.138.100&#x2F;api&#x2F;employee&#x2F;login. This request will be handled by the following location block:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Reverse proxy configuration</span></span><br><span class="line"><span class="string">location</span> <span class="string">^~</span> <span class="string">/api/</span> &#123;</span><br><span class="line">  <span class="string">rewrite</span> <span class="string">^/api/(.*)$</span> <span class="string">/$1</span> <span class="string">break;</span> <span class="comment"># Rewrite the URL path</span></span><br><span class="line">  <span class="string">proxy_pass</span> <span class="string">http://192.168.138.101:8080;</span> <span class="comment"># Tomcat server address where the backend code is deployed</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Without the rewrite directive, the reverse proxy server will forward the request to the Tomcat server at <code>192.168.138.101:8080/api/employee/login</code>. However, the backend server cannot process this request because it expects the path <code>/employee/login</code>. Therefore, the proxy path needs to be adjusted.</p>
<p>The rewrite directive rewrites the URL path to <code>/employee/login</code>. After the reverse proxy forwards the request to <code>192.168.138.101:8080/employee/login</code>, it matches the backend service correctly.</p>
<h2 id="4-4-Backend-Deployment"><a href="#4-4-Backend-Deployment" class="headerlink" title="4.4 Backend Deployment"></a>4.4 Backend Deployment</h2><ol>
<li>Install <code>jdk</code>, <code>git</code>, <code>maven</code>, and <code>MySQL</code> on Server B.<br>Use the <code>git clone</code> command to clone the code from the Git remote repository into the <code>/usr/local/javaapp</code> directory.</li>
</ol>
<p><img src="/2023/11/18/Optimization%20of%20Reggie%20Takeout%2003(Deployment%20of%20Frontend%20&%20Backend%20Separated%20Project)/10.png" alt="Image"></p>
<ol start="2">
<li><p>Upload the <code>reggieStart.sh</code> file provided in the materials to Server B.</p>
</li>
<li><p>Run the reggieStart.sh script to automatically deploy the project:</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./reggieStart.sh</span><br></pre></td></tr></table></figure>
<p>After starting, you can use the following command to check the process:</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep java</span><br></pre></td></tr></table></figure></li>
<li><p>Resolve Image Display Issues in the Backend:</p>
</li>
</ol>
<ul>
<li><p>View logs:<br>Navigate to the target directory of the project, where a file named <code>reggie_take_out.log</code> is generated.<br>Use the following command to view the logs in real-time: <code>tail -f reggie_take_out.log</code></p>
</li>
<li><p>Identify Error:<br>The logs may show a FileNotFoundException, indicating that the path configured in Application.yml does not exist on the Linux server. The image path needs to be modified.</p>
</li>
<li><p>Modify Code:<br>Update path in IDEA’s <code>Application.yml</code>: <code>path: /usr/local/img</code><br>Push changes to remote repository</p>
</li>
<li><p>Re-execute Script:<br>Run the deployment script again: <code>./reggieStart.sh</code></p>
</li>
<li><p>Upload Images:<br>Transfer local images to <code>/usr/local/img</code> directory on Server B.</p>
</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Redis/" rel="tag"># Redis</a>
              <a href="/tags/SpringBoot/" rel="tag"># SpringBoot</a>
              <a href="/tags/Linux/" rel="tag"># Linux</a>
              <a href="/tags/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/" rel="tag"># 项目笔记</a>
              <a href="/tags/java/" rel="tag"># java</a>
              <a href="/tags/YApi/" rel="tag"># YApi</a>
              <a href="/tags/Swagger/" rel="tag"># Swagger</a>
              <a href="/tags/Nginx/" rel="tag"># Nginx</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2023/11/18/%E7%91%9E%E5%90%89%E5%A4%96%E5%8D%96%E4%BC%98%E5%8C%9602-%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6-Nginx/" rel="prev" title="瑞吉外卖优化02-主从复制+Nginx">
                  <i class="fa fa-chevron-left"></i> 瑞吉外卖优化02-主从复制+Nginx
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2023/11/21/%E4%BD%BF%E7%94%A8VMware-Fusion%E5%85%8B%E9%9A%86%E8%99%9A%E6%8B%9F%E6%9C%BA/" rel="next" title="使用VMware Fusion克隆虚拟机">
                  使用VMware Fusion克隆虚拟机 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Kathy-kx</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  




  





</body>
</html>
